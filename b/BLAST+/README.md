# BLAST+ instructions

* [BLAST+ web site](https://blast.ncbi.nlm.nih.gov/)
   * [download area latest version](https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/)

## General information

* BLAST+ is one component of a bigger toolkit, the 
  [NCBI C++ toolkit](https://ncbi.github.io/cxx-toolkit/),
  but it is also packaged separately.
* Since version 2.7, LMDB is a dependency for BLAST+ (but a copy is included in the 
  code)
* A number of possible dependencies are also included in the code. Check the 
  `c++/src/util` directory and its subdirectories for those extensions. In version 
  2.9, this includes:
    * **zlib** and **bzip2** (in `c++/src/util/compress`)
    * **LMDB** (in `c++/src/util/lmdb`)
    * **PCRE** (in `c++/src/util/regexp`)
* There is a load of other dependencies according to the configure script.
  However, these seem to be the dependencies for the whole NCBI C++ toolkit.
  Inspection of the shared libraries shows that most are not used in any
  of the executables generated by the BLAST+ build.

## EasyBuild information

The development of these instructions started with the 2020a toolchains.

### BLAST+ 2.9.0

* For the 2020a toolchains we simply started from the EasyBuilders file as we ran
  into compile problems when building upon our previous efforts.
* Checking the executables, the following packages are linked as shared libraries:
  * **zlib** (libz.so.1)
  * **bzip2** (libbz2.so.1.0)
  * **LZO** (liblzo.so.2)
  * **PCRE** (libpcre.so.1)
  * **LMDB** (liblmdb.so)
* Hence we removed all references to packages that don't seem to be used in the 
  EasyBuild recipe.

### BLAST+ 2.10.0

* Started from the 2.9.0 files for the 2020a toolchain.
* Patches from the 2.9 version don't seem to be needed.
* Dependencies seem to be the same as for 2.9.0. The configure script picks up
  a lot of other libraries from our baselibs module but they don't seem to 
  be used at all.
* --with-64 causes trouble and is not needed as the compilers only emit 64-bit
  code, so it has been omitted.
