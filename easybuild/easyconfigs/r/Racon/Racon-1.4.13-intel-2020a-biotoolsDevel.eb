easyblock = 'CMakeMake'

local_buildset =         '2020a'

local_Racon_version =         '1.4.13' # https://github.com/isovic/racon/releases

name =          'Racon'
version =       local_Racon_version
versionsuffix = '-biotoolsDevel'

homepage = 'https://github.com/lbcb-sci/racon'

whatis = [
    "Description: Racon is an ultrafast consensus module for raw de novo genome assembly of long uncorrected reads",  
]

description = """
Racon is intended as a standalone consensus module to correct raw contigs 
generated by rapid assembly methods which do not include a consensus step. 
The goal of Racon is to generate genomic consensus which is of similar or 
better quality compared to the output generated by assembly methods which 
employ both error correction and consensus steps, while providing a speedup 
of several times compared to those methods. It supports data produced by both 
Pacific Biosciences and Oxford Nanopore Technologies.

Racon can be used as a polishing tool after the assembly with either Illumina 
data or data produced by third generation of sequencing. The type of data 
inputed is automatically detected.

This module is built without support for CUDA.
"""

toolchain = {'name': 'intel', 'version': local_buildset}

# https://github.com/lbcb-sci/racon/releases/download/1.4.13/racon-v1.4.13.tar.gz
source_urls = ['https://github.com/lbcb-sci/racon/releases/download/%(version)s/']
sources =     ['%(namelower)s-v%(version)s.tar.gz']
checksums =   ['4220e98bf84768483bd94eef62a0821cffc74f4e7139c74685c08161909263b0']

docurls = [
    'Web-based documentation on https://github.com/lbcb-sci/racon/blob/master/README.md',
]

builddependencies = [
    ('buildtools', local_buildset, '', True),
]

separate_build_dir = False

# This only creates an executable and nothing more.
sanity_check_paths = {
    'files': ['bin/racon'],
    'dirs':  [],
}

sanity_check_commands = ['racon --help']

moduleclass = 'bio'
